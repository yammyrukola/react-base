Закончил на 58:44 ФОРМА ДЛЯ СОЗДАНИЯ ПОСТА декомпозиция

# Обзор

В проекте рассмотрены основные возможности React и сопутствующих технологий.

1. Синтаксис JSX
2. Подключение css стилей в бандлере инлайново через импорты
3. Использование CSS модулей
4. Инлайновые стили в JSX компонентах. (style={{ textAlign: "center" }})
5. Пропсы props
6. Управляемые компоненты и двухстороннее связывание
7. Обработчики событий в JSX (onClick={onClickHandler})
   - использование useState для доступа к данным
     - изменение состояний обязательно выполняются через useState
   - использование useRef для доступа к данным
8. Стандартные хуки Реакт
   8.1. **useState** - для хранения состояний
   8.2. **useRef** - прямой доступ к DOM элементу через ссылку
   - случай передачи ссылки в кастомный компонент (forwardRef)
     8.3. ...
9. Динамическое создание списков с компонентами в JSX из массива с данными и свойство key содержащее уникальных идентификатор child компонента.
10. Специальный {props.children} для передачи динамического контента компонента.
11. Передача пропсов в компонент с помощью ...spread оператора {...props}
12. Особенности useState переменных в виде объектов.

    - (минимизация количества состояний помещением их в один объект (например состояние контролов в форме))
    - особенности изменения стейтов объктов (onChange={e => setPost(**{ ...post, title: e.target.value }**)})

13. Структурирование проекта выделением части компонент в UI
14. Передача callback`ов вниз для изменения стейта вышестоящего компонента.
15. Изменение массивов в React

    - добавление нового элемента:
      **setPosts([posts, ...]);**
    - удаление элемента:
      **setPosts(posts.filter(p => p.id !== post.id));**
    - сортировка немутабельная (с предварительным копированием массива):
      **setPosts([...posts].sort((a, b) => a[sort].localCompare(b[sort]));**

16. Условная отрисовка (с помощью тернарного оператора)
    Например вывод нет постов при их отсутствии

17. Механизм сортировки постов

18. Мемоизация (useMemo) - механизм для оптимизации изменений текста в форме поиска

19. Механизм фильтрации (последовательность sort & filter-arr.include => render)

20. Общий подход к реализациии фильтров в виде декомпозиции на элемента фильтрации отрисовывающего только интерфейс и меняющего состояние фильтра, при этом логика фильтрации отрабатывается уровнем выше. Компонент проще расширять, а родителя проще читать.

21. Использование **React Developer Tools** для отладки приложения на React

    - расширение для chrome
    - добавляет в Chrome Dev Tools закладки **Components** и **Profiler**
    - В **Components** можно посмотреть иерархию компонентов на странице
      - можно посмотреть список пропсов
      - интерактивно изменить
      - интерактивно удалить
    - В **Profiler** можно отлаживать скорость выполнения приложения

22. Подробно про модальные окна в Реакт [видео](https://www.youtube.com/watch?v=i2Yf7JZonB4)
    - использование модульного CSS и классов-модификторов при помощи join(' ')
    - использование event.stopPropagation() для контроля события клика и последующего закрытия модального окна
    -
23. Библиотека с простой анимацией **React Transtion Group** (ccылка)[https://reactcommunity.org/react-transition-group/]
    Дает классы для жизненных циклов компонентов на которые можно навешивать различные CSS состояния
24. Использование кастомных хуков для для декомпозиции кода на примере выноса логики по сортировке и фильтрации
25. Использование сервера фейковых данных (**jsonplaceholder**) - удобно использовать для реализации пет тудушек
    (jsonplaceholder)[https://jsonplaceholder.typicode.com/]
26. **AXIOS** - выполение запросов к серверу (универсальный fetch)
27. **useEffect** - Жизненный цикл компонента: **mount -> update -> unmount** и (подгрузка данных, навешивание событий).
28. Использование спинера и стейта isLoading для управления его отображением в момент загрузки постов, а так же его вставка в разметку JSX.
29. создание еще одного кастомного хука **useFetching(callback)**
    1. выполняющего асинхронный callback,
    2. а на это время выводяещго спинер,
    3. так же возвращающего ошибку для обработки в случае ее возникновения.
    4. плюс пример ее обработки в разметке {postError && ...}
    5. внимание тому, что вся логика спрятанная внутрь хука должна сама уметь возвращать ошибку
30. Реализация пагинации (+ стандартные параметры RESTful API) ?\_limit=2&\_page=3
    1. \_limit=10 - количество записей на странице
    2. \_page=2 - номер страницы
    3. **x-total-count**: 100 - заголовок содержащий количество элементов всего (появляется если указан \_limit)
31. Изменение состояний это асинхронный процесс (он на происходит сразу смотри подробнее hooks useState)
32. Реакт роутер (**React Router**)
    1. Включая динамические маршруты и /posts/:id/comments, использование кастомного useFetching и отрисовка
33. Авторизация в роутинге
34. Использование useContex(context)
35. Сохранение состояния авторизации пользователя в LocalStorage и его проверка при загрузке
36. Учитываем асинронность загрузки состояния авторизованности с сервера управление редиректом с помощью состояний
    (решает задачу перхода на все посты вместо конкретного при перезагрузке)
37. Реализуем бесконечную ленту прокрутки элементов с помощью Intersection Observer.
38. Переносим ее в кастомный хук **useObserver** см hooks
39. Работа с limit (количество элементов на странице)

# Выводы:

Ключевой особенностью работы с React является **декларативность**. В случае React мы избегаем непосредственной работы с компонентами все в основно происходит путем изменения state, после которого следует автоматическая отрисовка измененного интерфейса.

Из такого подхода следует и то, что переменные состояния не изменяются напрямую, а всегда через stateNameSet чтобы сообщить React об изменениях и запустить механизмы рендеринга.

Из этого же следует особенный подход к изменению стейтов с помощью разбора текущего объекта стейта спредом и его пересборка с точечным переназначением свойств.

Работа с React основана на декомпозиции приложения на компоненты и максимальное их переиспользование.

? Одним из важнейших навыков в работе с react можно так же считать знания по отладке, т.к. отладка библиотеки значительно отличается от отладки нативного кода
? Так же работа со стейт менеджером санками Redux Tool Kit

**Изучить RTK (Redux Toolkit)**
эта библиотека рекомендуется самим redux, как современный стандарт, более гибкий и более удобный в отличие от громоздкого исходного Redux. По сути нет особого смысла даже изучать сам Redux если не придется работать с легаси проектами.

Ulbi (включая санки) - целый плейлист (в том числе toolkit, типизация, thunk, RTK Query)
https://www.youtube.com/watch?v=Od5H_CiU2vM&t=43s - плейлист
Михаил Непомнящий Redux Toolkit для управления состоянием в React-приложении
https://www.youtube.com/watch?v=C0fBnil_Im4 - рассмотрено использование на основе todo - list, что само по себе стандарт)
про RTK с 23 минуты

1. **UI -> Action -> Reducer <-> Store -> UI -> ...**
2. Reducer - это функция фильтр знающая текущеее состояние store и action который произошел
3. Грубо редьюсером мы просто берем и обновляем стор в зависимости от произошедшего событие, а обновление стора вызывает обносление в компонентах если они подписаны на изменение стора и их перерисовку (т.е. в шапке выбрали пользователя и поменялся интерфейс подвала).
4. **Установка библиотек 26 минута Провайдеры и хуки** добавить подробное описание

**Типизаия TS**
https://www.youtube.com/watch?v=uRlh6-tHWEE

**Асинхронный RTK**
https://www.youtube.com/watch?v=6RTbC8Acj1M

Так же очень желательно посмотерть компонетнут систему например matirial UI
Ну а для полного комлекта еще популярную CSS систему Tailwind CSS

(Описание доп матиеривлов к ролику)[https://youtu.be/GNrdg3PzpJQ?si=G2V5LPaqRZ04nhVT&t=10786]

1. (React + TS)[https://www.youtube.com/watch?v=92qcfeWxtnY&t=575s&pp=ygUcdWxiaSDRgtC-0LwgcmVhY3QgdHlwZXNjcmlwdA%3D%3D]
2. (Кастомные хуки для React)[https://www.youtube.com/watch?v=ks8oftGP2oc]
3. React + Redux
4. React + Redux + TS
5. React + MobX
6. WebSocek
7. LongPulling
8. JWT авторизация

проекты
MERN - облачное хранилище
С нуля до PRo интернет магазин
Spotify Clone (next.js)

- Валидация, Drug and Drop и т.п.
